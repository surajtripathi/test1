<html>
<head><title>hello</title></head>
<script src="https://skyway.io/dist/0.3/peer.min.js"></script>
<script type="text/javascript">
var peer = new Peer({
	host: "localhost",
	port: 8909 || (location.protocol === 'https:' ? 443 : 80),
	path: '/peerjs',
	config: { 'iceServers': [
            	{ 'url': 'stun:stun.l.google.com:19302' }  
          	] }
});
peer.on('open', function(id) {
  console.log('My peer ID is: ' + id);
});
//conn.on('open', function() {conn.on('data', function(data) {console.log('Received', data);});
// peer.on('connection', function(con){
// 	alert(con);
	// con.on("open", function(){
	// 	alert("client1");
	// 	con.on("data", function(data){
	// 		document.getElementById("data").value=data;
	// 		alert(data);
	// 	});
	// 	con.send("hi client2");
	// });
// });
var conn;
function connection(){
	conn = peer.connect(document.getElementById("client1").value);
	// conn.on("open", function(){
	// });
	conn.on("open", function(){
		alert("client1");
		conn.on("data", function(data){
			document.getElementById("data").value=data;
			alert(data);
		});
		//conn.send("hi client2");
	});
}
//var conn = peer.connect("helloworld");
// conn.send('hello')
</script>
<body>
	<input type="text" id="client1">
	<input type="text" id="data">
	<button onclick="connection()">send data</button>
</body>
</html>